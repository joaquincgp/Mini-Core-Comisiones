{"ast":null,"code":"var _jsxFileName = \"/Users/joaquinchacon/Desktop/miniCoreComisiones/front-react/src/pages/Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Typography, Alert, Box } from '@mui/material';\nimport { format } from 'date-fns';\nimport FiltroFechas from '../components/FiltroFechas';\nimport TablaComisiones from '../components/TablaComisiones';\nimport TarjetasInformativas from '../components/TarjetasInformativas';\nimport { usuariosAPI, ventasAPI, comisionesAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [usuarios, setUsuarios] = useState([]);\n  const [ventas, setVentas] = useState([]);\n  const [reglasComision, setReglasComision] = useState([]);\n  const [resumenComisiones, setResumenComisiones] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Cargar datos iniciales\n  useEffect(() => {\n    cargarDatosIniciales();\n  }, []);\n  const cargarDatosIniciales = async () => {\n    try {\n      const [usuariosRes, ventasRes, reglasRes] = await Promise.all([usuariosAPI.obtenerTodos(), ventasAPI.obtenerTodas(), comisionesAPI.obtenerReglas()]);\n      setUsuarios(usuariosRes.data);\n      setVentas(ventasRes.data);\n      setReglasComision(reglasRes.data);\n    } catch (error) {\n      setError('Error al cargar los datos iniciales');\n      console.error('Error:', error);\n    }\n  };\n  const calcularComisiones = async ({\n    fechaInicio,\n    fechaFin\n  }) => {\n    setLoading(true);\n    setError('');\n    try {\n      const response = await comisionesAPI.calcular({\n        fecha_inicio: format(fechaInicio, 'yyyy-MM-dd'),\n        fecha_fin: format(fechaFin, 'yyyy-MM-dd')\n      });\n      setResumenComisiones(response.data);\n    } catch (error) {\n      setError('Error al calcular las comisiones');\n      console.error('Error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const estadisticas = {\n    totalVendedores: usuarios.length,\n    totalVentas: ventas.length,\n    montoTotal: ventas.reduce((sum, venta) => sum + venta.monto, 0)\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"xl\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 4,\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        color: \"primary\",\n        children: \"Sistema de C\\xE1lculo de Comisiones\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"text.secondary\",\n        children: \"Calcula y analiza las comisiones de ventas por per\\xEDodo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FiltroFechas, {\n      onCalcular: calcularComisiones,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TablaComisiones, {\n      resumenComisiones: resumenComisiones\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TarjetasInformativas, {\n      usuarios: usuarios,\n      reglasComision: reglasComision,\n      estadisticas: estadisticas\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"TVdnOy36PTViuN/wSwpR4eik7PI=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Alert","Box","format","FiltroFechas","TablaComisiones","TarjetasInformativas","usuariosAPI","ventasAPI","comisionesAPI","jsxDEV","_jsxDEV","Home","_s","usuarios","setUsuarios","ventas","setVentas","reglasComision","setReglasComision","resumenComisiones","setResumenComisiones","loading","setLoading","error","setError","cargarDatosIniciales","usuariosRes","ventasRes","reglasRes","Promise","all","obtenerTodos","obtenerTodas","obtenerReglas","data","console","calcularComisiones","fechaInicio","fechaFin","response","calcular","fecha_inicio","fecha_fin","estadisticas","totalVendedores","length","totalVentas","montoTotal","reduce","sum","venta","monto","maxWidth","children","sx","mb","textAlign","variant","component","gutterBottom","color","fileName","_jsxFileName","lineNumber","columnNumber","severity","onCalcular","_c","$RefreshReg$"],"sources":["/Users/joaquinchacon/Desktop/miniCoreComisiones/front-react/src/pages/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Typography,\n  Alert,\n  Box,\n} from '@mui/material';\nimport { format } from 'date-fns';\nimport FiltroFechas from '../components/FiltroFechas';\nimport TablaComisiones from '../components/TablaComisiones';\nimport TarjetasInformativas from '../components/TarjetasInformativas';\nimport { usuariosAPI, ventasAPI, comisionesAPI } from '../services/api';\n\nconst Home = () => {\n  const [usuarios, setUsuarios] = useState([]);\n  const [ventas, setVentas] = useState([]);\n  const [reglasComision, setReglasComision] = useState([]);\n  const [resumenComisiones, setResumenComisiones] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Cargar datos iniciales\n  useEffect(() => {\n    cargarDatosIniciales();\n  }, []);\n\n  const cargarDatosIniciales = async () => {\n    try {\n      const [usuariosRes, ventasRes, reglasRes] = await Promise.all([\n        usuariosAPI.obtenerTodos(),\n        ventasAPI.obtenerTodas(),\n        comisionesAPI.obtenerReglas()\n      ]);\n\n      setUsuarios(usuariosRes.data);\n      setVentas(ventasRes.data);\n      setReglasComision(reglasRes.data);\n    } catch (error) {\n      setError('Error al cargar los datos iniciales');\n      console.error('Error:', error);\n    }\n  };\n\n  const calcularComisiones = async ({ fechaInicio, fechaFin }) => {\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await comisionesAPI.calcular({\n        fecha_inicio: format(fechaInicio, 'yyyy-MM-dd'),\n        fecha_fin: format(fechaFin, 'yyyy-MM-dd'),\n      });\n\n      setResumenComisiones(response.data);\n    } catch (error) {\n      setError('Error al calcular las comisiones');\n      console.error('Error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const estadisticas = {\n    totalVendedores: usuarios.length,\n    totalVentas: ventas.length,\n    montoTotal: ventas.reduce((sum, venta) => sum + venta.monto, 0),\n  };\n\n  return (\n    <Container maxWidth=\"xl\">\n      <Box sx={{ mb: 4, textAlign: 'center' }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom color=\"primary\">\n          Sistema de Cálculo de Comisiones\n        </Typography>\n        <Typography variant=\"body1\" color=\"text.secondary\">\n          Calcula y analiza las comisiones de ventas por período\n        </Typography>\n      </Box>\n\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          {error}\n        </Alert>\n      )}\n\n      <FiltroFechas onCalcular={calcularComisiones} loading={loading} />\n\n      <TablaComisiones resumenComisiones={resumenComisiones} />\n\n      <TarjetasInformativas\n        usuarios={usuarios}\n        reglasComision={reglasComision}\n        estadisticas={estadisticas}\n      />\n    </Container>\n  );\n};\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}