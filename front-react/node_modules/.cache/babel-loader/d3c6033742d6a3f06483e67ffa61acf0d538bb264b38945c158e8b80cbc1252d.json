{"ast":null,"code":"var _jsxFileName = \"/Users/joaquinchacon/Desktop/miniCoreComisiones/front-react/src/pages/Usuarios.jsx\",\n  _s = $RefreshSig$();\n// front-react/src/pages/Usuarios.jsx\nimport React, { useState, useEffect } from 'react';\nimport { Container, Paper, Typography, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Box, Alert, Grid, Card, CardContent, Divider, Chip } from '@mui/material';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { usuariosAPI, ventasAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Usuarios = () => {\n  _s();\n  const [usuarios, setUsuarios] = useState([]);\n  const [ventas, setVentas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    cargarDatos();\n  }, []);\n  const cargarDatos = async () => {\n    try {\n      const [usuariosRes, ventasRes] = await Promise.all([usuariosAPI.obtenerTodos(), ventasAPI.obtenerTodas()]);\n      setUsuarios(usuariosRes.data);\n      setVentas(ventasRes.data);\n    } catch (error) {\n      setError('Error al cargar los datos');\n      console.error('Error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const formatearMoneda = valor => {\n    return new Intl.NumberFormat('es-EC', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(valor || 0);\n  };\n  const formatearFecha = fecha => {\n    return format(new Date(fecha), 'dd/MM/yyyy', {\n      locale: es\n    });\n  };\n  const obtenerPorcentajeComision = totalVentas => {\n    if (totalVentas >= 1000) return 0.15;\n    if (totalVentas >= 800) return 0.10;\n    if (totalVentas >= 600) return 0.08;\n    if (totalVentas >= 500) return 0.06;\n    return 0.0;\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"Cargando...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"xl\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      color: \"primary\",\n      children: \"Vendedores - Ventas por Fecha\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      color: \"text.secondary\",\n      sx: {\n        mb: 3\n      },\n      children: \"Detalle de ventas por vendedor para verificaci\\xF3n de c\\xE1lculos de comisiones\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), usuarios.map(usuario => {\n      const ventasDelVendedor = ventas.filter(venta => venta.vendedor_id === usuario.id).sort((a, b) => new Date(a.fecha) - new Date(b.fecha)); // Ordenar por fecha ascendente\n\n      const totalVentas = ventasDelVendedor.reduce((sum, venta) => sum + venta.monto, 0);\n      const porcentajeComision = obtenerPorcentajeComision(totalVentas);\n      const totalComision = totalVentas * porcentajeComision;\n      return /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          mb: 4,\n          p: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          alignItems: \"center\",\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 3,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              color: \"primary\",\n              children: usuario.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: [ventasDelVendedor.length, \" venta\", ventasDelVendedor.length !== 1 ? 's' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              sx: {\n                textAlign: 'center',\n                p: 1,\n                backgroundColor: 'success.light',\n                color: 'white'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  fontWeight: 'bold'\n                },\n                children: \"Total Vendido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: formatearMoneda(totalVentas)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              sx: {\n                textAlign: 'center',\n                p: 1,\n                backgroundColor: 'primary.light',\n                color: 'white'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  fontWeight: 'bold'\n                },\n                children: \"% Comisi\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: [(porcentajeComision * 100).toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              sx: {\n                textAlign: 'center',\n                p: 1,\n                backgroundColor: 'secondary.light',\n                color: 'white'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  fontWeight: 'bold'\n                },\n                children: \"Comisi\\xF3n Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: formatearMoneda(totalComision)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this), ventasDelVendedor.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"info\",\n          children: \"Este vendedor no tiene ventas registradas.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(TableContainer, {\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            size: \"small\",\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                sx: {\n                  backgroundColor: 'grey.100'\n                },\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Fecha\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 34\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"right\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Monto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 48\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"right\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Acumulado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 48\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Estado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: [(() => {\n                let acumulado = 0;\n                return ventasDelVendedor.map((venta, index) => {\n                  acumulado += venta.monto;\n                  return /*#__PURE__*/_jsxDEV(TableRow, {\n                    sx: {\n                      backgroundColor: index % 2 === 0 ? 'grey.50' : 'white',\n                      '&:hover': {\n                        backgroundColor: 'primary.light',\n                        opacity: 0.1\n                      }\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        fontWeight: \"medium\",\n                        children: formatearFecha(venta.fecha)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 173,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 172,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        fontWeight: \"bold\",\n                        color: \"success.main\",\n                        children: formatearMoneda(venta.monto)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 178,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        fontWeight: \"medium\",\n                        color: \"primary.main\",\n                        children: formatearMoneda(acumulado)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"center\",\n                      children: /*#__PURE__*/_jsxDEV(Chip, {\n                        label: venta.monto >= 500 ? \"Alta\" : venta.monto >= 300 ? \"Media\" : \"Baja\",\n                        color: venta.monto >= 500 ? \"success\" : venta.monto >= 300 ? \"warning\" : \"default\",\n                        size: \"small\",\n                        variant: \"outlined\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 188,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 29\n                    }, this)]\n                  }, venta.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 27\n                  }, this);\n                });\n              })(), /*#__PURE__*/_jsxDEV(TableRow, {\n                sx: {\n                  backgroundColor: 'primary.main'\n                },\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  sx: {\n                    color: 'white',\n                    fontWeight: 'bold'\n                  },\n                  children: \"TOTAL\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"right\",\n                  sx: {\n                    color: 'white',\n                    fontWeight: 'bold'\n                  },\n                  children: formatearMoneda(totalVentas)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"right\",\n                  sx: {\n                    color: 'white',\n                    fontWeight: 'bold'\n                  },\n                  children: formatearMoneda(totalVentas)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  sx: {\n                    color: 'white',\n                    fontWeight: 'bold'\n                  },\n                  children: [(porcentajeComision * 100).toFixed(1), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2,\n            p: 2,\n            backgroundColor: 'info.light',\n            borderRadius: 1,\n            color: 'white'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              fontWeight: 'bold',\n              mb: 1\n            },\n            children: \"\\uD83E\\uDDEE C\\xE1lculo de Comisi\\xF3n:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [\"Total Vendido: \", formatearMoneda(totalVentas), \" \\xD7 \", (porcentajeComision * 100).toFixed(1), \"% = \", formatearMoneda(totalComision)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            sx: {\n              display: 'block',\n              mt: 1,\n              opacity: 0.9\n            },\n            children: \"Reglas: \\u2265$1000\\u219215% | \\u2265$800\\u219210% | \\u2265$600\\u21928% | \\u2265$500\\u21926% | <$500\\u21920%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this)]\n      }, usuario.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 3,\n        backgroundColor: 'grey.100'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        color: \"primary\",\n        children: \"\\uD83D\\uDCCA Resumen General\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: \"Total Vendedores\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"primary\",\n            children: usuarios.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: \"Total Ventas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"primary\",\n            children: ventas.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: \"Monto Total Sistema\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"success.main\",\n            children: formatearMoneda(ventas.reduce((sum, venta) => sum + venta.monto, 0))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: \"Comisiones Totales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"secondary.main\",\n            children: formatearMoneda(usuarios.reduce((totalComisiones, usuario) => {\n              const ventasDelVendedor = ventas.filter(v => v.vendedor_id === usuario.id);\n              const totalVentas = ventasDelVendedor.reduce((sum, v) => sum + v.monto, 0);\n              const porcentaje = obtenerPorcentajeComision(totalVentas);\n              return totalComisiones + totalVentas * porcentaje;\n            }, 0))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(Usuarios, \"4tJApu6ciVAsxE/Dey0DMOUj690=\");\n_c = Usuarios;\nexport default Usuarios;\nvar _c;\n$RefreshReg$(_c, \"Usuarios\");","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Box","Alert","Grid","Card","CardContent","Divider","Chip","format","es","usuariosAPI","ventasAPI","jsxDEV","_jsxDEV","Usuarios","_s","usuarios","setUsuarios","ventas","setVentas","loading","setLoading","error","setError","cargarDatos","usuariosRes","ventasRes","Promise","all","obtenerTodos","obtenerTodas","data","console","formatearMoneda","valor","Intl","NumberFormat","style","currency","formatearFecha","fecha","Date","locale","obtenerPorcentajeComision","totalVentas","children","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","variant","component","gutterBottom","color","sx","mb","severity","map","usuario","ventasDelVendedor","filter","venta","vendedor_id","id","sort","a","b","reduce","sum","monto","porcentajeComision","totalComision","elevation","p","container","spacing","alignItems","item","xs","md","nombre","length","textAlign","backgroundColor","fontWeight","toFixed","size","align","acumulado","index","opacity","label","mt","borderRadius","display","sm","totalComisiones","v","porcentaje","_c","$RefreshReg$"],"sources":["/Users/joaquinchacon/Desktop/miniCoreComisiones/front-react/src/pages/Usuarios.jsx"],"sourcesContent":["// front-react/src/pages/Usuarios.jsx\nimport React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Paper,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Box,\n  Alert,\n  Grid,\n  Card,\n  CardContent,\n  Divider,\n  Chip,\n} from '@mui/material';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { usuariosAPI, ventasAPI } from '../services/api';\n\nconst Usuarios = () => {\n  const [usuarios, setUsuarios] = useState([]);\n  const [ventas, setVentas] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    cargarDatos();\n  }, []);\n\n  const cargarDatos = async () => {\n    try {\n      const [usuariosRes, ventasRes] = await Promise.all([\n        usuariosAPI.obtenerTodos(),\n        ventasAPI.obtenerTodas()\n      ]);\n\n      setUsuarios(usuariosRes.data);\n      setVentas(ventasRes.data);\n    } catch (error) {\n      setError('Error al cargar los datos');\n      console.error('Error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatearMoneda = (valor) => {\n    return new Intl.NumberFormat('es-EC', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(valor || 0);\n  };\n\n  const formatearFecha = (fecha) => {\n    return format(new Date(fecha), 'dd/MM/yyyy', { locale: es });\n  };\n\n  const obtenerPorcentajeComision = (totalVentas) => {\n    if (totalVentas >= 1000) return 0.15;\n    if (totalVentas >= 800) return 0.10;\n    if (totalVentas >= 600) return 0.08;\n    if (totalVentas >= 500) return 0.06;\n    return 0.0;\n  };\n\n  if (loading) return <Typography>Cargando...</Typography>;\n\n  return (\n    <Container maxWidth=\"xl\">\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom color=\"primary\">\n        Vendedores - Ventas por Fecha\n      </Typography>\n      <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\n        Detalle de ventas por vendedor para verificaciÃ³n de cÃ¡lculos de comisiones\n      </Typography>\n\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          {error}\n        </Alert>\n      )}\n\n      {usuarios.map((usuario) => {\n        const ventasDelVendedor = ventas\n          .filter(venta => venta.vendedor_id === usuario.id)\n          .sort((a, b) => new Date(a.fecha) - new Date(b.fecha)); // Ordenar por fecha ascendente\n\n        const totalVentas = ventasDelVendedor.reduce((sum, venta) => sum + venta.monto, 0);\n        const porcentajeComision = obtenerPorcentajeComision(totalVentas);\n        const totalComision = totalVentas * porcentajeComision;\n\n        return (\n          <Paper key={usuario.id} elevation={3} sx={{ mb: 4, p: 3 }}>\n            {/* Header del vendedor */}\n            <Grid container spacing={2} alignItems=\"center\" sx={{ mb: 3 }}>\n              <Grid item xs={12} md={3}>\n                <Typography variant=\"h6\" color=\"primary\">\n                  {usuario.nombre}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {ventasDelVendedor.length} venta{ventasDelVendedor.length !== 1 ? 's' : ''}\n                </Typography>\n              </Grid>\n              <Grid item xs={12} md={3}>\n                <Card variant=\"outlined\" sx={{ textAlign: 'center', p: 1, backgroundColor: 'success.light', color: 'white' }}>\n                  <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>\n                    Total Vendido\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    {formatearMoneda(totalVentas)}\n                  </Typography>\n                </Card>\n              </Grid>\n              <Grid item xs={12} md={3}>\n                <Card variant=\"outlined\" sx={{ textAlign: 'center', p: 1, backgroundColor: 'primary.light', color: 'white' }}>\n                  <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>\n                    % ComisiÃ³n\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    {(porcentajeComision * 100).toFixed(1)}%\n                  </Typography>\n                </Card>\n              </Grid>\n              <Grid item xs={12} md={3}>\n                <Card variant=\"outlined\" sx={{ textAlign: 'center', p: 1, backgroundColor: 'secondary.light', color: 'white' }}>\n                  <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>\n                    ComisiÃ³n Total\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    {formatearMoneda(totalComision)}\n                  </Typography>\n                </Card>\n              </Grid>\n            </Grid>\n\n            <Divider sx={{ mb: 2 }} />\n\n            {/* Tabla de ventas */}\n            {ventasDelVendedor.length === 0 ? (\n              <Alert severity=\"info\">\n                Este vendedor no tiene ventas registradas.\n              </Alert>\n            ) : (\n              <TableContainer>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow sx={{ backgroundColor: 'grey.100' }}>\n                      <TableCell><strong>Fecha</strong></TableCell>\n                      <TableCell align=\"right\"><strong>Monto</strong></TableCell>\n                      <TableCell align=\"right\"><strong>Acumulado</strong></TableCell>\n                      <TableCell align=\"center\"><strong>Estado</strong></TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {(() => {\n                      let acumulado = 0;\n                      return ventasDelVendedor.map((venta, index) => {\n                        acumulado += venta.monto;\n                        return (\n                          <TableRow\n                            key={venta.id}\n                            sx={{\n                              backgroundColor: index % 2 === 0 ? 'grey.50' : 'white',\n                              '&:hover': { backgroundColor: 'primary.light', opacity: 0.1 }\n                            }}\n                          >\n                            <TableCell>\n                              <Typography variant=\"body2\" fontWeight=\"medium\">\n                                {formatearFecha(venta.fecha)}\n                              </Typography>\n                            </TableCell>\n                            <TableCell align=\"right\">\n                              <Typography variant=\"body2\" fontWeight=\"bold\" color=\"success.main\">\n                                {formatearMoneda(venta.monto)}\n                              </Typography>\n                            </TableCell>\n                            <TableCell align=\"right\">\n                              <Typography variant=\"body2\" fontWeight=\"medium\" color=\"primary.main\">\n                                {formatearMoneda(acumulado)}\n                              </Typography>\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              <Chip\n                                label={venta.monto >= 500 ? \"Alta\" : venta.monto >= 300 ? \"Media\" : \"Baja\"}\n                                color={venta.monto >= 500 ? \"success\" : venta.monto >= 300 ? \"warning\" : \"default\"}\n                                size=\"small\"\n                                variant=\"outlined\"\n                              />\n                            </TableCell>\n                          </TableRow>\n                        );\n                      });\n                    })()}\n                    {/* Fila de totales */}\n                    <TableRow sx={{ backgroundColor: 'primary.main' }}>\n                      <TableCell sx={{ color: 'white', fontWeight: 'bold' }}>\n                        TOTAL\n                      </TableCell>\n                      <TableCell align=\"right\" sx={{ color: 'white', fontWeight: 'bold' }}>\n                        {formatearMoneda(totalVentas)}\n                      </TableCell>\n                      <TableCell align=\"right\" sx={{ color: 'white', fontWeight: 'bold' }}>\n                        {formatearMoneda(totalVentas)}\n                      </TableCell>\n                      <TableCell align=\"center\" sx={{ color: 'white', fontWeight: 'bold' }}>\n                        {(porcentajeComision * 100).toFixed(1)}%\n                      </TableCell>\n                    </TableRow>\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            )}\n\n            {/* ExplicaciÃ³n del cÃ¡lculo */}\n            <Box sx={{ mt: 2, p: 2, backgroundColor: 'info.light', borderRadius: 1, color: 'white' }}>\n              <Typography variant=\"body2\" sx={{ fontWeight: 'bold', mb: 1 }}>\n                ðŸ§® CÃ¡lculo de ComisiÃ³n:\n              </Typography>\n              <Typography variant=\"body2\">\n                Total Vendido: {formatearMoneda(totalVentas)} Ã— {(porcentajeComision * 100).toFixed(1)}% = {formatearMoneda(totalComision)}\n              </Typography>\n              <Typography variant=\"caption\" sx={{ display: 'block', mt: 1, opacity: 0.9 }}>\n                Reglas: â‰¥$1000â†’15% | â‰¥$800â†’10% | â‰¥$600â†’8% | â‰¥$500â†’6% | &lt;$500â†’0%\n              </Typography>\n            </Box>\n          </Paper>\n        );\n      })}\n\n      {/* Resumen general */}\n      <Paper elevation={3} sx={{ p: 3, backgroundColor: 'grey.100' }}>\n        <Typography variant=\"h6\" gutterBottom color=\"primary\">\n          ðŸ“Š Resumen General\n        </Typography>\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={6} md={3}>\n            <Typography variant=\"body2\" color=\"text.secondary\">Total Vendedores</Typography>\n            <Typography variant=\"h6\" color=\"primary\">{usuarios.length}</Typography>\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <Typography variant=\"body2\" color=\"text.secondary\">Total Ventas</Typography>\n            <Typography variant=\"h6\" color=\"primary\">{ventas.length}</Typography>\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <Typography variant=\"body2\" color=\"text.secondary\">Monto Total Sistema</Typography>\n            <Typography variant=\"h6\" color=\"success.main\">\n              {formatearMoneda(ventas.reduce((sum, venta) => sum + venta.monto, 0))}\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <Typography variant=\"body2\" color=\"text.secondary\">Comisiones Totales</Typography>\n            <Typography variant=\"h6\" color=\"secondary.main\">\n              {formatearMoneda(\n                usuarios.reduce((totalComisiones, usuario) => {\n                  const ventasDelVendedor = ventas.filter(v => v.vendedor_id === usuario.id);\n                  const totalVentas = ventasDelVendedor.reduce((sum, v) => sum + v.monto, 0);\n                  const porcentaje = obtenerPorcentajeComision(totalVentas);\n                  return totalComisiones + (totalVentas * porcentaje);\n                }, 0)\n              )}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Usuarios;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}